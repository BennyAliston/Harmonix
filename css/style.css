@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cinzel:wght@400;700&display=swap');

:root {
    --void-bg: #2a1b3d;
    --wood-dark: #3e2723;
    --wood-light: #5d4037;
    --parchment: #f3e5ab;
    --parchment-shadow: #d7c9a3;
    --gold: #ffc107;
    --gold-shadow: #ff8f00;
    --gem-red: #e53935;
    --gem-blue: #039be5;
    --gem-purple: #8e24aa;
    --rune-glow: #00e5ff;
}

body {
    background: var(--void-bg);
    background-image:
        radial-gradient(circle at 15% 50%, rgba(75, 0, 130, 0.4) 0%, transparent 50%),
        radial-gradient(circle at 85% 30%, rgba(0, 50, 200, 0.2) 0%, transparent 50%);
    color: #3e2723;
    font-family: 'MedievalSharp', cursive;
    min-height: 100vh;
    overflow-x: hidden;
    cursor: url('https://cdn.custom-cursor.com/db/cursor/32/Fantasy_Cursor.png'), auto;
}

/* --- Magical Background --- */
.dust-container {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 0;
}

.dust-mote {
    position: absolute;
    background: radial-gradient(white, rgba(255, 255, 255, 0));
    border-radius: 50%;
    opacity: 0.6;
    animation: floatMagic 8s infinite ease-in-out;
    filter: drop-shadow(0 0 5px var(--rune-glow));
}

@keyframes floatMagic {
    0% {
        transform: translateY(100vh) scale(0);
        opacity: 0;
    }

    50% {
        opacity: 0.8;
    }

    100% {
        transform: translateY(-10vh) scale(1);
        opacity: 0;
    }
}

/* --- Containers --- */

/* The main "Board" or Tabletop feel */
.playful-card {
    background: var(--parchment);
    border: 4px solid var(--wood-light);
    border-radius: 8px;
    /* Slightly rounded, worn edges */
    box-shadow:
        inset 0 0 60px rgba(62, 39, 35, 0.2),
        /* Age stain */
        5px 5px 15px rgba(0, 0, 0, 0.5);
    /* Drop shadow */
    position: relative;
    padding: 2px;
}

/* Corner decorations (simulated with pseudo-elements for gold aesthetic) */
.playful-card::before,
.playful-card::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    background: var(--gold);
    border: 1px solid var(--wood-dark);
    box-shadow: inset 1px 1px 2px rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    /* Bolts/Nails */
    z-index: 2;
}

.playful-card::before {
    top: 8px;
    left: 8px;
}

.playful-card::after {
    top: 8px;
    right: 8px;
}

/* --- Typography --- */
.title-text {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    color: var(--gold);
    text-shadow:
        2px 2px 0px #000,
        0 0 20px rgba(255, 193, 7, 0.6);
    letter-spacing: 0.1em;
}

h2,
h3 {
    color: var(--wood-dark);
    text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.5);
}

/* --- Buttons (RPG Style) --- */
.rpg-btn {
    background: linear-gradient(to bottom, #d7ccc8, #a1887f);
    border: 2px solid var(--wood-dark);
    border-radius: 4px;
    color: var(--wood-dark);
    font-family: 'MedievalSharp', cursive;
    text-transform: uppercase;
    font-weight: bold;
    box-shadow:
        inset 1px 1px 0px rgba(255, 255, 255, 0.4),
        0 4px 0px var(--wood-dark),
        0 5px 5px rgba(0, 0, 0, 0.3);
    transition: all 0.1s;
    position: relative;
    overflow: hidden;
}

.rpg-btn:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 var(--wood-dark);
}

.rpg-btn-red {
    background: linear-gradient(to bottom, #ffcdd2, #ef9a9a);
    color: #b71c1c;
}

.rpg-btn-green {
    background: linear-gradient(to bottom, #c8e6c9, #a5d6a7);
    color: #1b5e20;
}

.rpg-btn-blue {
    background: linear-gradient(to bottom, #b3e5fc, #81d4fa);
    color: #01579b;
}

/* Gem Buttons for FX */
.gem-btn {
    border: 2px solid rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
    box-shadow:
        inset 0 0 10px rgba(0, 0, 0, 0.5),
        inset 0 2px 4px rgba(255, 255, 255, 0.6),
        /* Shine */
        0 4px 6px rgba(0, 0, 0, 0.3);
    transition: all 0.1s;
}

.gem-btn:active {
    transform: scale(0.95);
    opacity: 0.9;
}

/* --- Rune Grid --- */
.rune-stone {
    background: #5d4037;
    /* Dark stone/wood */
    border: 2px solid #3e2723;
    border-radius: 4px;
    position: relative;
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.8);
    transition: all 0.1s;
}

/* Active Rune = Glowing Gem */
.rune-stone.active {
    background: radial-gradient(circle at 30% 30%, var(--gold), #ff6f00);
    border-color: #ffd54f;
    box-shadow:
        0 0 10px var(--gold),
        inset 2px 2px 5px rgba(255, 255, 255, 0.8);
    transform: scale(1.1);
    z-index: 10;
}

.rune-stone.playing {
    filter: brightness(1.5) contrast(1.2);
    transform: scale(1.2);
}

.beat-marker {
    background: #4e342e;
}

/* Labels */
.row-label {
    font-size: 0.7rem;
    color: var(--wood-dark);
    font-weight: bold;
    opacity: 0.8;
}

/* --- Sliders (Mana Bars) --- */
input[type=range] {
    -webkit-appearance: none;
    background: transparent;
}

input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 10px;
    background: #3e2723;
    border-radius: 5px;
    border: 1px solid #5d4037;
    box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.8);
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 20px;
    width: 20px;
    background: var(--gold);
    border: 2px solid #fff;
    border-radius: 50%;
    margin-top: -6px;
    box-shadow: 0 0 5px var(--gold);
    cursor: pointer;
}

/* --- Visualizer Frame --- */
.orb-glow {
    border: 6px solid var(--wood-light);
    border-radius: 50% / 10%;
    /* Elliptical or just rounded box? Let's do rounded box with "Crystal" feel */
    border-radius: 12px;
    background: #000;
    box-shadow:
        0 0 15px rgba(0, 229, 255, 0.3),
        inset 0 0 30px rgba(0, 0, 0, 0.9);
    position: relative;
    overflow: hidden;
}

/* --- Scrollbar --- */
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: var(--wood-dark);
}

::-webkit-scrollbar-thumb {
    background: var(--gold);
    border: 2px solid var(--wood-dark);
    border-radius: 2px;
}

/* --- Modal --- */
.modal-bg {
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
}