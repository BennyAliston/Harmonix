@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Outfit:wght@400;700;900&display=swap');

:root {
    --bg-void: #0f172a;
    --bg-panel: rgba(30, 41, 59, 0.7);
    --bg-panel-hover: rgba(51, 65, 85, 0.8);

    --accent-primary: #06b6d4;
    /* Cyan */
    --accent-secondary: #8b5cf6;
    /* Violet */
    --accent-success: #10b981;
    /* Emerald */
    --accent-danger: #ef4444;
    /* Red */
    --accent-warn: #f59e0b;
    /* Amber */

    --text-main: #f8fafc;
    --text-muted: #94a3b8;

    --glow-primary: 0 0 15px rgba(6, 182, 212, 0.5);
    --glow-secondary: 0 0 15px rgba(139, 92, 246, 0.5);

    --font-display: 'Outfit', sans-serif;
    --font-body: 'Inter', sans-serif;

    --glass-border: 1px solid rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

body {
    background: var(--bg-void);
    background-image:
        radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 40%);
    color: var(--text-main);
    font-family: var(--font-body);
    min-height: 100vh;
    overflow-x: hidden;
}

/* Typography Utilities */
.font-display {
    font-family: var(--font-display);
}

.font-body {
    font-family: var(--font-body);
}

/* --- Magical Background --- */
.dust-container {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 0;
}

.dust-mote {
    position: absolute;
    background: radial-gradient(white, rgba(255, 255, 255, 0));
    border-radius: 50%;
    opacity: 0.4;
    animation: floatMagic 10s infinite ease-in-out;
    filter: drop-shadow(0 0 2px var(--accent-primary));
}

@keyframes floatMagic {
    0% {
        transform: translateY(100vh) scale(0);
        opacity: 0;
    }

    50% {
        opacity: 0.6;
    }

    100% {
        transform: translateY(-10vh) scale(1);
        opacity: 0;
    }
}

/* --- Components --- */

/* Glassmorphism Card */
.playful-card {
    background: var(--bg-panel);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: var(--glass-border);
    border-radius: 16px;
    box-shadow: var(--glass-shadow);
    color: var(--text-main);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.playful-card:hover {
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5);
}

/* Remove old corner bolts */
.playful-card::before,
.playful-card::after {
    display: none;
}

/* Titles */
h1,
h2,
h3,
h4,
.title-text {
    font-family: var(--font-display);
    letter-spacing: -0.02em;
}

.title-text {
    background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: none;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* --- Buttons --- */
.rpg-btn {
    border: none;
    border-radius: 12px;
    font-family: var(--font-display);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-main);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.rpg-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
    filter: brightness(1.2);
}

.rpg-btn:active {
    transform: translateY(0);
}

/* Variants */
.rpg-btn-green {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    box-shadow: 0 4px 14px 0 rgba(16, 185, 129, 0.39);
}

.rpg-btn-red {
    background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%);
    box-shadow: 0 4px 14px 0 rgba(239, 68, 68, 0.39);
}

.rpg-btn-blue {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.39);
}

/* FX Buttons (Glassy Gems) */
.gem-btn {
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(4px);
    color: var(--text-muted);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.gem-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
    transform: translateX(-100%);
    transition: transform 0.5s;
}

.gem-btn:hover {
    color: white;
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
}

.gem-btn:hover::before {
    transform: translateX(100%);
}

/* Active FX States (These classes are toggled by JS logic, usually inline styles or 'active' class effectively) */
/* We need to ensure the JS logic toggles classes or we use the specific ID styles */
/* The HTML uses inline styles/classes or just standard buttons. 
   Wait, the JS sets styles? No, it just calls `btn.click()`.
   Actually, the HTML has specific colors hardcoded in classes. Let's override or use those.
   The JS toggles functionality, visuals are handled by the class on the element.
   Let's make sure the ID selectors in HTML work nicely.
*/

#fx-verb {
    background: linear-gradient(145deg, rgba(88, 28, 135, 0.2), rgba(107, 33, 168, 0.1));
}

#fx-verb.active,
#fx-verb:active {
    background: linear-gradient(145deg, #9333ea, #7e22ce);
    color: white;
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.4);
}

#fx-filter {
    background: linear-gradient(145deg, rgba(30, 64, 175, 0.2), rgba(29, 78, 216, 0.1));
}

#fx-filter.active,
#fx-filter:active {
    background: linear-gradient(145deg, #2563eb, #1d4ed8);
    color: white;
    box-shadow: 0 0 20px rgba(37, 99, 235, 0.4);
}

#fx-delay {
    background: linear-gradient(145deg, rgba(13, 148, 136, 0.2), rgba(15, 118, 110, 0.1));
}

#fx-delay.active,
#fx-delay:active {
    background: linear-gradient(145deg, #14b8a6, #0f766e);
    color: white;
    box-shadow: 0 0 20px rgba(20, 184, 166, 0.4);
}

#fx-dist {
    background: linear-gradient(145deg, rgba(185, 28, 28, 0.2), rgba(153, 27, 27, 0.1));
}

#fx-dist.active,
#fx-dist:active {
    background: linear-gradient(145deg, #ef4444, #b91c1c);
    color: white;
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
}


/* --- Rune Grid (Sequencer) --- */
.rune-stone {
    background: rgba(30, 41, 59, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 6px;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: all 0.1s;
    color: var(--text-muted);
    font-family: var(--font-display);
    /* Hide rune text visually until hover/active if we want cleaner look? 
       Or make it subtle. The JS puts rune chars. Let's keep them subtle. 
    */
    font-size: 12px;
}

.rune-stone:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    color: var(--text-main);
}

.rune-stone.active {
    background: var(--accent-primary);
    border-color: #67e8f9;
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.6);
    color: #fff;
    transform: scale(1.05);
    z-index: 10;
}

.rune-stone.playing {
    background: #fff !important;
    box-shadow: 0 0 20px #fff;
    transform: scale(1.15);
    z-index: 20;
}

.beat-marker {
    background: rgba(30, 41, 59, 0.8);
    border-color: rgba(255, 255, 255, 0.1);
}

/* Row Labels */
.row-label {
    font-family: var(--font-display);
    font-size: 0.65rem;
    font-weight: 700;
    color: var(--text-muted);
    letter-spacing: 0.05em;
    text-shadow: none;
}

/* --- Sliders --- */
input[type=range] {
    -webkit-appearance: none;
    background: transparent;
    width: 100%;
}

input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    border: none;
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    margin-top: -5px;
    background: var(--accent-secondary);
    border: 2px solid #fff;
    box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
    cursor: pointer;
    transition: transform 0.1s;
}

input[type=range]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

/* --- Visualizer Frame --- */
.orb-glow {
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    background: #000;
    box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
    position: relative;
    overflow: hidden;
}

/* --- Scrollbar --- */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* --- Modal --- */
.modal-bg {
    background: rgba(0, 0, 0, 0.5);
}



/* Pattern Tabs Override */
#pattern-tabs button {
    font-family: var(--font-display) !important;
    border-radius: 8px !important;
    transition: all 0.2s !important;
}



#chain-editor span {
    font-family: var(--font-display) !important;
    border-radius: 4px !important;
}